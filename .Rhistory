temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4), round(data.frame(temp.lsmeans.crp.agp$contrasts)[,2], 4), lower.crp.agp, upper.crp.agp, scientific(data.frame(temp.lsmeans.crp.agp$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval", "mean.crp.agp", "lower_95CI.crp.agp", "uppder_95CI.crp.agp", "pval.crp.agp")
temp.comp.out<-rbind(temp.comp.out, data.frame(outcome="Zn", site=site.loop, timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(outcome="Zn", site=site.loop,timepoint=timepoint.loop,Arm=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4), adj.mean.crp.agp=round(data.frame(temp.lsmeans.crp.agp$emmeans)[,2], 4), lowerCI.crp.agp=round(data.frame(temp.lsmeans.crp.agp$emmeans)[,5], 4), upperCI.crp.agp=round(data.frame(temp.lsmeans.crp.agp$emmeans)[,6], 4)))
}}
datatable(overall.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.comp.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.emmeans.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
temp.emmeans.out<-temp.comp.out<-overall.out<-c()
for(timepoint.loop in names(table(zinc$Timepoint))){
temp<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm), data=zinc[zinc$Timepoint==timepoint.loop,])
temp.nested<-glm(as.numeric(Result.Zn)~as.factor(Arm), data=zinc[zinc$Timepoint==timepoint.loop,])
overall.out<-rbind(overall.out, data.frame(outcome="Zn", timepoint=timepoint.loop, pval=scientific(anova(temp.nested, temp, test="Chisq")$"Pr(>Chi)"[2], 4)))
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp, pairwise~as.factor(Site))
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(outcome="Zn",  timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(outcome="Zn", timepoint=timepoint.loop,Site=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
}
datatable(overall.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.comp.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.emmeans.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
temp.lsmeans.out<-test.out<-overall.out<-c()
for(timepoint.loop in names(table(zinc$Timepoint))){
temp.data<-zinc[zinc$Timepoint==timepoint.loop,]
if(timepoint.loop=="12 Weeks"){ temp.data$hypozincemia<-ifelse(as.numeric(temp.data$Result.Zn)<56,1,0)}
if(timepoint.loop=="34 Weeks"){temp.data$hypozincemia<-ifelse(as.numeric(temp.data$Result.Zn)<50,1,0)}
temp<-multinom(hypozincemia~as.factor(Site) + as.factor(Arm), data=temp.data)
temp.nested<-multinom(hypozincemia~as.factor(Arm), data=temp.data)
overall.out<-rbind(overall.out, data.frame(outcome="Hypozincemia", timepoint=timepoint.loop, pval=scientific(anova(temp.nested, temp, test="Chisq")$"Pr(Chi)"[2], 4)))
temp.lsmeans<-data.frame(emmeans(temp, ~hypozincemia|as.factor(Site), mode="prob", data=temp.data))  #
temp.lsmeans$prob<-round(temp.lsmeans$prob, 3)
temp.lsmeans$SE<-round(temp.lsmeans$SE, 3)
temp.lsmeans$lower.CL<-round(temp.lsmeans$lower.CL, 3)
temp.lsmeans$upper.CL<-round(temp.lsmeans$upper.CL, 3)
temp.lsmeans.out<-rbind(temp.lsmeans.out, data.frame(timepoint=timepoint.loop,temp.lsmeans))
lsm<-emmeans(temp, ~as.factor(Site)|hypozincemia,mode="latent", data=temp.data)
cmp = contrast(lsm, method="pairwise", ref=1)
test = test(cmp, joint=TRUE, by="contrast")
test.out<-rbind(test.out, data.frame(timepoint=timepoint.loop,test[,1:4], p.value=scientific(test$p.value, 4)))
}
datatable(overall.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.lsmeans.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(test.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
nrow(zinc)
zinc$bga.lt.37<-ifelse(zinc$bga_weeks<37,1,0)
nrow(zinc)
table(zinc$bga.lt.37)
table(zinc$bga.lt.37, zinc$Site)
temp.emmeans.out<-temp.comp.out<-overall.out<-c()
for(timepoint.loop in names(table(zinc$Timepoint))){
temp<-glm(as.numeric(Result.Zn)~bga.lt.37+as.factor(Site) + as.factor(Arm), data=zinc[zinc$Timepoint==timepoint.loop & !is.na(zinc$bga.lt.37),])
temp.nested<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm), data=zinc[zinc$Timepoint==timepoint.loop & !is.na(zinc$bga.lt.37),])
overall.out<-rbind(overall.out, data.frame(outcome="Zn", site="ALL", timepoint=timepoint.loop, pval=scientific(anova(temp.nested, temp, test="Chisq")$"Pr(>Chi)"[2], 4)))
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp, pairwise~bga.lt.37)
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(outcome="Zn", site="ALL", timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(outcome="Zn", site="ALL",timepoint=timepoint.loop,bga.lt.37=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
################ by site  #################
for(site.loop in names(table(zinc$Site))){
temp<-glm(as.numeric(Result.Zn)~bga.lt.37+as.factor(Arm), data=zinc[zinc$Site==site.loop & zinc$Timepoint==timepoint.loop  & !is.na(zinc$bga.lt.37),])
temp.nested<-glm(as.numeric(Result.Zn)~as.factor(Arm), data=zinc[zinc$Site==site.loop & zinc$Timepoint==timepoint.loop  & !is.na(zinc$bga.lt.37),])
overall.out<-rbind(overall.out, data.frame(outcome="Zn", site=site.loop, timepoint=timepoint.loop, pval=scientific(anova(temp.nested, temp, test="Chisq")$"Pr(>Chi)"[2], 4)))
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp, pairwise~bga.lt.37)
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(outcome="Zn", site=site.loop, timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(outcome="Zn", site=site.loop,timepoint=timepoint.loop,bga.lt.37=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
}}
datatable(overall.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.comp.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.emmeans.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
summary(zinc[zinc$Timepoint=="12 Weeks", "Result.CRP"])
table(zinc[zinc$Timepoint=="12 Weeks", "Result.CRP"]>5)
summary(zinc[zinc$Timepoint=="34 Weeks", "Result.CRP"])
table(zinc[zinc$Timepoint=="34 Weeks", "Result.CRP"]>5)
summary(zinc[zinc$Timepoint=="34 Weeks", "Result.AGP"])
table(zinc[zinc$Timepoint=="34 Weeks", "Result.AGP"]>1)
summary(zinc[zinc$Timepoint=="34 Weeks", "Result.AGP"])
table(zinc[zinc$Timepoint=="34 Weeks", "Result.AGP"]>1)
p1<-ggplot(zinc.12weeks, aes(x=as.numeric(Result.Zn), y =as.numeric(Result.CRP))) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc") + ylab("CRP") + ggtitle("12 weeks") + geom_hline(yintercept=5, linetype="dashed", color="darkred")
p1
p1<-ggplot(zinc.12weeks, aes(x=as.numeric(Result.Zn), y =as.numeric(Result.AGP))) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc") + ylab("AGP") + ggtitle("12 weeks") + geom_hline(yintercept=1, linetype="dashed", color="darkred")
p1
p1<-ggplot(zinc.12weeks, aes(x=as.numeric(Result.AGP), y =as.numeric(Result.CRP))) +
geom_point() + geom_smooth(method="lm") + xlab("AGP") + ylab("CRP") + ggtitle("12 weeks") + geom_hline(yintercept=5, linetype="dashed", color="darkred") + geom_vline(xintercept=1, linetype="dashed", color="darkred")
p1
p1<-ggplot(zinc.34weeks, aes(x=as.numeric(Result.Zn), y =as.numeric(Result.CRP))) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc") + ylab("CRP") + ggtitle("34 weeks") + geom_hline(yintercept=5, linetype="dashed", color="darkred")
p1
p1<-ggplot(zinc.34weeks, aes(x=as.numeric(Result.Zn), y =as.numeric(Result.AGP))) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc") + ylab("AGP") + ggtitle("34 weeks") + geom_hline(yintercept=1, linetype="dashed", color="darkred")
p1
p1<-ggplot(zinc.34weeks, aes(x=as.numeric(Result.AGP), y =as.numeric(Result.CRP))) +
geom_point() + geom_smooth(method="lm") + xlab("AGP") + ylab("CRP") + ggtitle("34 weeks") + geom_vline(xintercept=1, linetype="dashed", color="darkred") + geom_hline(yintercept=5, linetype="dashed", color="darkred")
p1
temp.emmeans.out<-temp.comp.out<-overall.out<-c()
for(timepoint.loop in names(table(zinc$Timepoint))){
temp.data<-zinc[zinc$Timepoint==timepoint.loop,]
if(timepoint.loop=="12 Weeks"){ temp.data$high.crp<-ifelse(as.numeric(temp.data$Result.CRP)>5,1,0)
temp.data$high.agp<-ifelse(as.numeric(temp.data$Result.AGP)>1,1,0)}
if(timepoint.loop=="34 Weeks"){temp.data$high.crp<-ifelse(as.numeric(temp.data$Result.CRP)>5,1,0)
temp.data$high.agp<-ifelse(as.numeric(temp.data$Result.AGP)>1,1,0)}
temp.crp<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm) + high.crp, data=temp.data)
temp.agp<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm) + high.agp, data=temp.data)
temp.nested.crp<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm), data=temp.data[!is.na(temp.data$high.crp),])
temp.nested.agp<-glm(as.numeric(Result.Zn)~as.factor(Site) + as.factor(Arm), data=temp.data[!is.na(temp.data$high.agp),])
overall.out<-rbind(overall.out, data.frame(predictor="CRP", site="ALL", timepoint=timepoint.loop, pval=scientific(anova(temp.nested.crp, temp.crp, test="Chisq")$"Pr(>Chi)"[2], 4)), data.frame(predictor="AGP", site="ALL", timepoint=timepoint.loop, pval=scientific(anova(temp.nested.agp, temp.agp, test="Chisq")$"Pr(>Chi)"[2], 4)))
##CRP##
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp.crp, pairwise~as.factor(high.crp))
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(predictor="CRP", site="ALL", timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(predictor="CRP", site="ALL",timepoint=timepoint.loop,Arm=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
##AGP##
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp.agp, pairwise~as.factor(high.agp))
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(predictor="AGP", site="ALL", timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(predictor="AGP", site="ALL",timepoint=timepoint.loop,Arm=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
################################### by site  #################
for(site.loop in names(table(zinc$Site))){
temp.data2<-temp.data[temp.data$Site==site.loop,]
temp.crp<-glm(as.numeric(Result.Zn)~as.factor(Arm) + high.crp, data=temp.data2)
temp.agp<-glm(as.numeric(Result.Zn)~ as.factor(Arm) + high.agp, data=temp.data2)
temp.nested.crp<-glm(as.numeric(Result.Zn)~as.factor(Arm), data=temp.data2[!is.na(temp.data2$high.crp),])
temp.nested.agp<-glm(as.numeric(Result.Zn)~as.factor(Arm), data=temp.data2[!is.na(temp.data2$high.agp),])
overall.out<-rbind(overall.out, data.frame(predictor="CRP", site=site.loop, timepoint=timepoint.loop, pval=scientific(anova(temp.nested.crp, temp.crp, test="Chisq")$"Pr(>Chi)"[2], 4)), data.frame(predictor="AGP", site=site.loop, timepoint=timepoint.loop, pval=scientific(anova(temp.nested.agp, temp.agp, test="Chisq")$"Pr(>Chi)"[2], 4)))
##CRP##
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp.crp, pairwise~as.factor(high.crp))
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(predictor="CRP", site=site.loop, timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(predictor="CRP", site=site.loop,timepoint=timepoint.loop,Arm=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
##AGP##
## Tukey adjustment for multiple testing was used ##
temp.lsmeans<-emmeans(temp.agp, pairwise~as.factor(high.agp))
upper<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])+1.96*as.numeric(x[3]), 4)})
lower<-apply(data.frame(temp.lsmeans$contrasts), 1, function(x){round(as.numeric(x[2])-1.96*as.numeric(x[3]), 4)})
temp2<-data.frame(data.frame(temp.lsmeans$contrasts)[,1], round(data.frame(temp.lsmeans$contrasts)[,2], 4), lower, upper, scientific(data.frame(temp.lsmeans$contrasts)[,6], 4))
names(temp2)<-c("comparison", "mean", "lower_95CI", "uppder_95CI", "pval")
temp.comp.out<-rbind(temp.comp.out, data.frame(predictor="AGP", site=site.loop, timepoint=timepoint.loop, temp2))
temp.emmeans.out<-rbind(temp.emmeans.out, data.frame(predictor="AGP", site=site.loop,timepoint=timepoint.loop,Arm=data.frame(temp.lsmeans$emmeans)[,1],adj.mean=round(data.frame(temp.lsmeans$emmeans)[,2], 4), lowerCI=round(data.frame(temp.lsmeans$emmeans)[,5], 4), upperCI=round(data.frame(temp.lsmeans$emmeans)[,6], 4)))
}}
datatable(overall.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.comp.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
datatable(temp.emmeans.out, rownames=F, extensions = 'Buttons', options = list(dom = 'Bfrtip', buttons = c('excel', "csv")))
p1<-ggplot(zinc, aes(x=as.numeric(Result.Zn), y =bga_weeks)) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc")
p1
library(psych)
pairs.panels(zinc[,c("Result.Zn", "Result.AGP", "Result.Albumin", "Result.CRP")], hist.col = "#00AFBB",
density = TRUE)
zinc.12weeks$hypozincemia<-ifelse(zinc.12weeks$Result.Zn<56,T,F)
CrossTable(as.numeric(zinc.12weeks$Result.Zn)<56, prop.r=F, prop.t=F, prop.chisq=F)
CrossTable(zinc.12weeks$Arm, as.numeric(zinc.12weeks$Result.Zn)<56, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.12weeks$Site, as.numeric(zinc.12weeks$Result.Zn)<56, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.12weeks[zinc.12weeks$Site==6,"Arm"], as.numeric(zinc.12weeks[zinc.12weeks$Site==6,"Result.Zn"])<56, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.12weeks[zinc.12weeks$Site==8,"Arm"], as.numeric(zinc.12weeks[zinc.12weeks$Site==8,"Result.Zn"])<56, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.12weeks[zinc.12weeks$Site==9,"Arm"], as.numeric(zinc.12weeks[zinc.12weeks$Site==9,"Result.Zn"])<56, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
zinc.34weeks$hypozincemia<-ifelse(zinc.34weeks$Result.Zn<50,T,F)
CrossTable(as.numeric(zinc.34weeks$Result.Zn)<50, prop.r=F, prop.t=F, prop.chisq=F)
CrossTable(zinc.34weeks$Arm, as.numeric(zinc.34weeks$Result.Zn)<50, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.34weeks$Site, as.numeric(zinc.34weeks$Result.Zn)<50, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.34weeks[zinc.34weeks$Site==6,"Arm"], as.numeric(zinc.34weeks[zinc.34weeks$Site==6,"Result.Zn"])<50, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.34weeks[zinc.34weeks$Site==8,"Arm"], as.numeric(zinc.34weeks[zinc.34weeks$Site==8,"Result.Zn"])<50, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
CrossTable(zinc.34weeks[zinc.34weeks$Site==9,"Arm"], as.numeric(zinc.34weeks[zinc.34weeks$Site==9,"Result.Zn"])<50, prop.r=T, prop.t=F, prop.chisq=F, dnn=c("Arm", "Hypozincemia"))
summary(as.numeric(zinc$Result.Zn.Corrected))
table(!is.na(as.numeric(zinc$Result.Zn.Corrected)))
summary(as.numeric(zinc$Result.AGP))
summary(as.numeric(zinc$Result.Albumin))
summary(as.numeric(zinc$Result.CRP))
table(zinc$Arm, zinc$Site, zinc$Timepoint)
zinc2<-zinc[!is.na(as.numeric(zinc$Result.Zn)),]
table(zinc2$Arm, zinc2$Site, zinc2$Timepoint)
for(site.loop in c(6,8,9)){
for(birth.outcome in c("ga_zlen_INTG_24h", "ga_zwei_INTG_24h", "ga_zhc_INTG_24h", "bga_weeks")) {
tmp<-zinc.12weeks[zinc.12weeks$Site==site.loop,c("Subject_ID", birth.outcome)]
names(tmp)<-c("Subject_ID", "birth.outcome")
print(ggplot(tmp,aes(x=as.numeric(birth.outcome))) +
geom_histogram(aes(y=..density..), alpha=0.5, color="black") +
geom_density(alpha=0.4, color="#E69F00", fill="#E69F00") + ggtitle(paste(site.loop, birth.outcome)))
}}
overall.out<-c()
for(birth.outcome in c("ga_zlen_INTG_24h", "ga_zwei_INTG_24h", "ga_zhc_INTG_24h", "bga_weeks")) {
##  ADD IN OVERALL SITES ##
for(site.loop in c(6,8,9)){
tmp<-zinc.12weeks[zinc.12weeks$Site==site.loop,]
tmp$birth.outcome<-tmp[,birth.outcome]
temp<-glm(as.numeric(birth.outcome)~ as.factor(cluster) + as.factor(Arm) + hypozincemia, data=tmp)
temp.lsmeans<-as.data.frame(emmeans(temp, pairwise~hypozincemia, data=tmp)$emmeans)
overall.out<-rbind(overall.out, data.frame(birth.outcome=birth.outcome, site=as.character(site.loop), cluster="yes",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="hypozincemiaTRUE"),4], 4), mean_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"emmean"],2),LCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.LCL"],2),UCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.UCL"],2), mean_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==FALSE,"emmean"],2),LCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.LCL"],2),UCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.UCL"],2)))
temp<-glm(as.numeric(birth.outcome)~ as.factor(Arm) + hypozincemia, data=tmp)
temp.lsmeans<-as.data.frame(emmeans(temp, pairwise~hypozincemia, data=tmp)$emmeans)
overall.out<-rbind(overall.out, data.frame(birth.outcome=birth.outcome, site=as.character(site.loop), cluster="no",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="hypozincemiaTRUE"),4], 4), mean_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"emmean"],2),LCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.LCL"],2),UCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.UCL"],2), mean_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==FALSE,"emmean"],2),LCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.LCL"],2),UCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.UCL"],2)))
}}
datatable(overall.out, rownames=F, extensions = 'Buttons',
options = list(dom = 'Bfrtip',
buttons = c('excel', "csv")))
overall.out<-c()
for(site.loop in c(6,8,9)){
temp<-glm(as.numeric(bga_weeks)~ as.factor(cluster) + as.factor(Arm) + as.numeric(Result.Zn), data=zinc.12weeks[zinc.12weeks$Site==site.loop,])
overall.out<-rbind(overall.out, data.frame(site=as.character(site.loop), cluster="yes",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),4], 4),effect=round(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),1],4)))
temp<-glm(as.numeric(bga_weeks)~as.factor(Arm) + as.numeric(Result.Zn), data=zinc.12weeks[zinc.12weeks$Site==site.loop,])
overall.out<-rbind(overall.out, data.frame(site=as.character(site.loop), cluster="no",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),4], 4),effect=round(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),1],4)))
}
datatable(overall.out, rownames=F, extensions = 'Buttons',
options = list(dom = 'Bfrtip',
buttons = c('excel', "csv")))
for(site.loop in c(6,8,9)){
for(birth.outcome in c("ga_zlen_INTG_24h", "ga_zwei_INTG_24h", "ga_zhc_INTG_24h", "bga_weeks")) {
tmp<-zinc.12weeks[zinc.34weeks$Site==site.loop,c("Subject_ID", birth.outcome)]
names(tmp)<-c("Subject_ID", "birth.outcome")
print(ggplot(tmp,aes(x=as.numeric(birth.outcome))) +
geom_histogram(aes(y=..density..), alpha=0.5, color="black") +
geom_density(alpha=0.4, color="#E69F00", fill="#E69F00") + ggtitle(paste(site.loop, birth.outcome)))
}}
overall.out<-c()
for(birth.outcome in c("ga_zlen_INTG_24h", "ga_zwei_INTG_24h", "ga_zhc_INTG_24h", "bga_weeks")) {
##  ADD IN OVERALL SITES ##
for(site.loop in c(6,8,9)){
tmp<-zinc.34weeks[zinc.34weeks$Site==site.loop,]
tmp$birth.outcome<-tmp[,birth.outcome]
temp<-glm(as.numeric(birth.outcome)~ as.factor(cluster) + as.factor(Arm) + hypozincemia, data=tmp)
temp.lsmeans<-as.data.frame(emmeans(temp, pairwise~hypozincemia, data=tmp)$emmeans)
overall.out<-rbind(overall.out, data.frame(birth.outcome=birth.outcome, site=as.character(site.loop), cluster="yes",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="hypozincemiaTRUE"),4], 4), mean_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"emmean"],2),LCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.LCL"],2),UCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.UCL"],2), mean_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==FALSE,"emmean"],2),LCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.LCL"],2),UCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.UCL"],2)))
temp<-glm(as.numeric(birth.outcome)~ as.factor(Arm) + hypozincemia, data=tmp)
temp.lsmeans<-as.data.frame(emmeans(temp, pairwise~hypozincemia, data=tmp)$emmeans)
overall.out<-rbind(overall.out, data.frame(birth.outcome=birth.outcome, site=as.character(site.loop), cluster="no",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="hypozincemiaTRUE"),4], 4), mean_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"emmean"],2),LCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.LCL"],2),UCL_hypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==TRUE,"asymp.UCL"],2), mean_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==FALSE,"emmean"],2),LCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.LCL"],2),UCL_NOThypo=round(temp.lsmeans[temp.lsmeans$hypozincemia==F,"asymp.UCL"],2)))
}}
datatable(overall.out, rownames=F, extensions = 'Buttons',
options = list(dom = 'Bfrtip',
buttons = c('excel', "csv")))
overall.out<-c()
for(site.loop in c(6,8,9)){
temp<-glm(as.numeric(bga_weeks)~ as.factor(cluster) + as.factor(Arm) + as.numeric(Result.Zn), data=zinc.34weeks[zinc.34weeks$Site==site.loop,])
overall.out<-rbind(overall.out, data.frame(site=as.character(site.loop), cluster="yes",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),4], 4),effect=round(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),1],4)))
temp<-glm(as.numeric(bga_weeks)~as.factor(Arm) + as.numeric(Result.Zn), data=zinc.34weeks[zinc.34weeks$Site==site.loop,])
overall.out<-rbind(overall.out, data.frame(site=as.character(site.loop), cluster="no",pval=scientific(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),4], 4),effect=round(summary(temp)$coefficients[which(names(temp$coefficients)=="as.numeric(Result.Zn)"),1],4)))
}
datatable(overall.out, rownames=F, extensions = 'Buttons',
options = list(dom = 'Bfrtip',
buttons = c('excel', "csv")))
p1<-ggplot(zinc, aes(x=as.numeric(Result.Zn), y =as.numeric(bga_weeks))) +
geom_point() + geom_smooth(method="lm") + xlab("Zinc")
p1
library(blogdown)
install.packages("blogdown”)
""
''
"
install.packages("blogdown")
install.packages("blogdown")
install.packages("blogdown")
install.packages("blogdown")
library(blogdown)
library(blogdown)
blogdown::serve_site()
blogdown::install_hugo(force = TRUE)
blogdown::serve_site()
blogdown::serve_site()
error()
errors()
blogdown::serve_site()
blogdown::serve_site()
library(blogdown)
blogdown::serve_site()
blogdown::install_hugo(force = TRUE)
blogdown::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
7*15
68+11+42+5
blogdown:::serve_site()
build_site()
build_site()
library(blogdown)
build_site()
hugo
hugo version
hugo [version]
library(hugo)
hugo_version
hugo_version[]
hugo_version()
build_site
build_site()
library(blogdown)
build_site()
build_site()
build_site()
build_site()
hugo_version
hugo_version()
library(blogdown)
build_site()
blogdown::server_site()
blogdown::build_site()
blogdown::build_site()
library(blogdown)
build_site()
packageVersion("blogdown")
blogdown::hugo_version()
uninstall(hugo_available())
build_site()
build_site()
library(blogdown)
build_site()
blogdown::build_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::serve_site()
library(blogdown)
blogdown:::serve_site()
errors()
errors
error
blogdown::build_site()
blogdown::build_site()
blogdown::build_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::check_gitignore()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::build_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::build_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::hugo_build()
blogdown::build_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::build_site()
blogdown::build_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::build_site()
blogdown::check_gitignore()
blogdown:::serve_site()
blogdown::build_site()
blogdown::check_gitignore()
blogdown::build_site()
blogdown::check_gitignore()
blogdown::build_site()
blogdown::check_gitignore()
blogdown:::serve_site()
blogdown::build_site()
blogdown:::serve_site()
blogdown::check_gitignore()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown::check_gitignore()
blogdown::build_site()
blogdown::check_gitignore()
1000000*0.5
1000000*0.005
500000*0.005
500000*0.001
install_github("hendriau/Summix")
library(devtools)
install_github("hendriau/Summix")
readCitationFile("inst/CITATION")
install_github("hendriau/Summix")
install_github("hendriau/Summix", force=T)
readCitationFile("inst/CITATION")
readCitationFile("inst/CITATION")
install_github("hendriau/Summix")
readCitationFile("inst/CITATION")
readCitationFile("inst/CITATION")
?Summix
?summix
library(Summix)
readCitationFile("inst/CITATION")
?Summix
?summix
install_github("hendriau/Summix")
library(Summix)
readCitationFile("inst/CITATION")
install_github("hendriau/Summix")
library(Summix)
readCitationFile("inst/CITATION")
readCitationFile("CITATION")
readCitationFile("Summix/CITATION")
readCitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/CITATION")
readCitationFile("/Users/audreyhendricks/Documents/GitHub/Summixinst/CITATION")
readCitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/inst/CITATION")
CitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/inst/CITATION")
?readCitationFile
citation(package="Summix")
install_github("hendriau/Summix")
library(Summix)
citation(Summix)
citation("Summix")
citation()
citation("Summix")
?Summix
?summix
?summix
install_github("hendriau/Summix")
install_github("hendriau/Summix", force=T)
library(Summix)
CitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/inst/CITATION")
readCitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/inst/CITATION")
citation("Summix")
citation(Summix)
citation(package=Summix)
?summix
?summix
library(devtools)
install_github("hendriau/Summix")
library(Summix)
?summix
citation(package=Summix)
citation(package="Summix")
readCitationFile("/Users/audreyhendricks/Documents/GitHub/Summix/inst/CITATION")
1/20
add.func<-function(x){}
(x2)**2
add.func<-function(x){}]
add.func<-function(x){
x2<-sum(round(x))
(x2)**2
}
temp<-c(1:10)
temp
add.func(temp)
x3<-(x2)**2
add.func<-function(x){
x2<-sum(round(x))
x3<-(x2)**2
}
add.func<-function(x){
x2<-sum(round(x))
x3<-(x2)**2
}
add.func(temp)
x3
add.func<-function(x){
x2<-sum(round(x))
x3<-(x2)**2
x3
}
add.func(temp)
print(x3)
add.func<-function(x){
x2<-sum(round(x))
x3<-(x2)**2
print(x3)
}
print(x3)
add.func(temp)
8./45
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::build_site()
blogdown:::serve_site()
blogdown:::build_site()      to build
blogdown:::build_site()
blogdown:::build_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::build_site()
blogdown:::build_site()
blogdown:::serve_site()
blogdown:::serve_site()
blogdown:::build_site()
blogdown:::serve_site()
blogdown:::build_site()
blogdown:::serve_site()
blogdown:::build_site()
